<div class="col-12 content-left" *ngIf="user.userLevel === 'A'">
  <div class="row">
    <div class="col-12">
      <form [formGroup]="projectPersonGroup">
        <div class="row">
          <div class="form-group col-3 row">
            <label for="project"
                   class="col-12 col-form-label">โครงการ *</label>
            <div class="col-12">
              <ng-select [items]="projectList"
                         bindLabel="projectName"
                         bindValue="projectId"
                         hideSelected="true"
                         name="project"
                         id="project"
                         formControlName="project"
                         [(ngModel)]="project">
              </ng-select>
            </div>
          </div>
          <div class="form-group col-3 row">
            <label for="start-date"
                   class="col-12 col-form-label">วันที่ *</label>
            <div class="input-group col-12">
              <input class="form-control datepicker"
                     type="text"
                     name="datepicker"
                     id="start-date"
                     formControlName="startDate"
                     data-provide="datepicker"
                     data-date-language="th-th"
                     summitDatePicker
                     autocomplete="off"
                     [(ngModel)]="startDate"
                     maxlength="10" />
              <div class="input-group-append input-group-addon">
                <span class="input-group-text">
                  <i class="fas fa-calendar-alt"></i>
                </span>
              </div>
            </div>
          </div>
          <div class="form-group col-3 row">
            <label for="end-date"
                   class="col-12 col-form-label">ถึงวันที่ *</label>
            <div class="input-group col-12">
              <input class="form-control datepicker"
                     type="text"
                     name="datepicker"
                     data-provide="datepicker"
                     data-date-language="th-th"
                     summitDatePicker
                     autocomplete="off"
                     [(ngModel)]="endDate"
                     [min]="startDate"
                     maxlength="10"
                     id="end-date"
                     formControlName="endDate" />
              <div class="input-group-append input-group-addon">
                <span class="input-group-text">
                  <i class="fas fa-calendar-alt"></i>
                </span>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-12">
            <button type="submit"
                    name="show-btn"
                    id="show-btn"
                    class="btn btn-success float-left mr-2"
                    (click)="preview()">แสดงข้อมูล</button>
            <button type="button"
                    name="reset-btn"
                    id="reset-btn"
                    class="btn btn-warning float-left ml-2 mr-2"
                    (click)="resetFormGroup()">เริ่มใหม่</button>
            <button type="button"
                    name="reported-btn"
                    id="reported-btn"
                    class="btn btn-info float-right ml-2 mr-2"
                    (click)="reported()">พิมพ์</button>
          </div>
        </div>
      </form>
    </div>
    <!-- Preview projectTagList List -->
    <div class="col-12 table-border">
      <div class="table">
        <div class="thead">
          <div class="th p-1"></div>
          <div class="th p-1 tag-name">ชื่อ - นามสกุล</div>
          <div class="th"></div>
          <div class="th p-1 text-center">จำนวน</div>
          <div class="th p-1 text-center">เปอร์เซ็นต์</div>
        </div>
        <div *ngFor="let summary of projectPerson?.summary"
             class="tr">
          <div class="td"></div>
          <div class="td date p-1">{{ summary.name }}</div>
          <div class="td"></div>
          <div class="td text-center p-1">{{ summary.hour | number}} ชั่วโมง {{ summary.minute | number}} นาที</div>
          <div class="td text-center p-1">{{ summary.percent | number}}%</div>
        </div>

        <div class="tr">
          <div class="td"></div>
          <div class="td"></div>
          <div class="td text-center bold-text">รวมทั้งหมด</div>
          <div class="td text-center bold-text">
            {{projectPerson?.summaryHour | number}} ชั่วโมง {{projectPerson?.summaryMinute | number}} นาที
          </div>
          <div class="td text-center">
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
